{#=====================================================
  Tasks list page
  - List of tasks passed in as 'tasks' array
  - Form for adding a new task
=====================================================#}

{% extends 'pages/base.jinja' %}


{% block title %}

    Flask Demo - All tasks

{% endblock %}


{% block content %}

    <h1>TO DO LIST :DDDDD</h1>

    <article>

        <h3>Add a New Task...</h3>

        <form action="/add" method="POST">

            <input
                type="text"
                name="name"
                placeholder="Name of new task"
                required
            >

            <input
                type="number"
                name="priority"
                min="0"
                max="6"
                placeholder="Priority of new task, 1-5"
                required
            >

            <input
                type="text"
                name="description"
                placeholder="Description of task (optional)"
            >

            <button>Add the Task</button>

        </form>

    </article>

    <article>

        <ul>
            <table>
                <thead>
                    <tr>
                        <th scope="col">Task</th>
                        <th scope="col">Priority</th>
                        <th scope="col">Complete</th>
                    </tr>
                </thead>
                {% for task in tasks %}
                    <tbody>
                        <tr>
                            <th scope="col"><a href="task/{{task.id}}">{{task.name}}</a></th>
                            <td class="priority{{task.priority}}">{{task.priority}}</td>
                            {% if task.complete %}
                                <td><a href="/incomplete/{{task.id}}">Incomplete</a></td>
                            {% else %}
                                <td><a href="/complete/{{task.id}}" role="button">Complete</a></td>
                            {% endif %}
                        </tr>                    
                    </tbody>
                {% else %}

                    <p>None!</p>

                {% endfor %}
            </table>
        </ul>

    </article>

{% endblock %}

